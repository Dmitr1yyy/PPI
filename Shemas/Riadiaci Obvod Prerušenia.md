![[riadiaci obvod prerušenia.png]]

Это схема, на которой изображён **механизм управления прерываниями** в системе **80x86** с использованием программируемого контроллера прерываний **8259A**.

Данная схема показывает, **как внешние устройства могут прервать выполнение программы процессора**.

На схеме присутствует **1 процессор**, **1 контроллер прерываний** и **8 источников прерываний**.

---

## Контроллер прерываний — 8259A

8259A принимает сигналы от внешних устройств и передаёт их процессору в упорядоченном виде.

Он используется для:

- приёма запросов прерываний
- выбора приоритета
- передачи вектора прерывания

### Входы IRQ

Контроллер имеет **8 входов прерывания**: IRQ0 – IRQ7
Каждый вход — однобитный сигнал от внешнего устройства.

Если устройство требует обслуживания, оно активирует соответствующий IRQ.

---

## Процессор — 80x86

Процессор является единственным устройством, которое может выполнять обработку прерывания.

Он имеет два сигнала для работы с прерываниями:

- **INT** — вход запроса прерывания
- **INTA#** — подтверждение прерывания

---

## Сигналы схемы

### INT

Сигнал формируется контроллером 8259A.
Если хотя бы один IRQ активен, 8259A подаёт сигнал INT на процессор.

---

### INTA#

Сигнал формируется процессором.
Используется для подтверждения того, что процессор готов принять прерывание.

---

### EDB — шина данных

8-битная двунаправленная шина.
Используется для передачи **вектора прерывания** от 8259A к процессору.

---

## Прерывающий вектор

Вектор прерывания — это номер, по которому процессор определяет адрес обработчика.
Процессор получает вектор по шине EDB после сигнала INTA#.

---

## Последовательность работы

1. Устройство активирует линию IRQ
2. 8259A фиксирует запрос
3. 8259A формирует сигнал INT
4. Процессор завершает текущую инструкцию
5. Процессор выдаёт INTA#
6. 8259A передаёт вектор прерывания по EDB
7. Процессор переходит к обработчику

---

### Как рисовать?

1. Рисуем прямоугольник слева, которому даем входы **IRQ1..IRQ7**, помечаем выход **INT**, и вход **INTA#**, также добавляем выход **D**
2. Рисуем процессор, который принимает сигнал **INT** , и отправляет сигнал **INTA#** на прерыватель, также **INTA#** уходит вправо на управляющую единицу (вроде)
3. Рисуем шину **EDB** , подключаем ее к процессору 
4. Подключаем выход **D** прерывателя к шине **EDB** по 8-битному проводу